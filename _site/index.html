<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Home | DEST-bio</title><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Home" /><meta property="og:locale" content="en_US" /><meta name="description" content="“​Drosophila ​Evolution in Space and Time” (DEST) - A New Population Genomics Resource." /><meta property="og:description" content="“​Drosophila ​Evolution in Space and Time” (DEST) - A New Population Genomics Resource." /><link rel="canonical" href="http://localhost:4000/" /><meta property="og:url" content="http://localhost:4000/" /><meta property="og:site_name" content="DEST-bio" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/dest_logo.png"}},"headline":"Home","description":"“​Drosophila ​Evolution in Space and Time” (DEST) - A New Population Genomics Resource.","url":"http://localhost:4000/","name":"DEST-bio","@type":"WebSite","@context":"https://schema.org"}</script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0LRTFWXLGR"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-0LRTFWXLGR'); </script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"><div class="site-logo"></div></a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item active"><a href="http://localhost:4000/" class="nav-list-link active">Home</a><li class="nav-list-item"><a href="http://localhost:4000/dest-browser" class="nav-list-link">DEST Browser</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/data-files" class="nav-list-link">Data Files</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/data-files/SNP-tables" class="nav-list-link">SNP Tables</a><li class="nav-list-item "><a href="http://localhost:4000/data-files/sync-bam-bed" class="nav-list-link">SYNC/BAM/BED Files</a><li class="nav-list-item "><a href="http://localhost:4000/data-files/pipeline-output" class="nav-list-link">Pipeline Output</a><li class="nav-list-item "><a href="http://localhost:4000/data-files/metadata" class="nav-list-link">Metadata</a></ul><li class="nav-list-item"><a href="http://localhost:4000/resources" class="nav-list-link">Resources + Consortia</a><li class="nav-list-item"><a href="http://localhost:4000/sourcecode" class="nav-list-link">Source Code</a></ul></nav><footer class="site-footer"> <a href="https://www.biorxiv.org/content/10.1101/2021.02.01.428994v1">https://www.biorxiv.org/ <br> content/10.1101/2021.02.01.428994v1</a></footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search DEST-bio" aria-label="Search DEST-bio" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/DEST-bio/DEST_freeze1" class="site-button" > DEST-bio on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content" role="main"><head><link rel="shortcut icon" type="image/x-icon" href="favicon.ico" /><h1 id="welcome-to-the-dest-dataset"> <a href="#welcome-to-the-dest-dataset" class="anchor-heading" aria-labelledby="welcome-to-the-dest-dataset"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Welcome to the DEST Dataset</h1><p><br /> Hover over the interactive map to explore the DEST metadata.</p><hr /><div style="border:solid;border-radius:5px;width:200px"> <b>Key: </b><br /> <b style="color:#60B2E5">•</b>DGN <br /> <b style="color:#EC9A29">•</b>DrosRTEC <br /> <b style="color:#C492B1">•</b>DrosEU<br /></div><html><div id="my_dataviz"></div><button id="zoom-in">+</button> <button id="zoom-out">-</button><style> .circle:hover { stroke: black; }</style><script src="https://d3js.org/d3.v4.js"></script> <script src="https://d3js.org/d3-geo.v2.min.js"></script> <script src="https://d3js.org/d3-geo-projection.v3.min.js"></script> <script> /* size */ var width = 460; var height = 400; /* the svg */ var svg = d3 .select("#my_dataviz") .append("svg") .attr("width", width) .attr("height", height); /* handling zoom */ var zoom = d3.zoom().on("zoom", function () { svg.selectAll("path").attr("transform", d3.event.transform); svg.selectAll("circle").attr("transform", d3.event.transform).attr("r", 7/d3.event.transform.k).attr("stroke-width", 3/d3.event.transform.k); /* console.log(d3.event.transform.k); */ }); svg.call(zoom); /* zoom buttons */ /* adapted from http://bl.ocks.org/flacoman91/00d986b6e02ee418c9e195a8390219c5 */ d3.select('#zoom-in').on('click', function() { zoom.scaleBy(svg, 1.3); }); d3.select('#zoom-out').on('click', function() { zoom.scaleBy(svg, 1 / 1.3); }); /* map and projection */ var projection = d3 .geoNaturalEarth2() .scale(width / 1.3 / Math.PI) .translate([width / 2, height / 2]); var markers = []; /* set an empty array first */ d3.csv( "https://raw.githubusercontent.com/DEST-bio/DEST_freeze1/main/populationInfo/samps.csv", function (data) { for (var i = 0; i < data.length - 1; i++) { /* exclude last element */ var newPoint = { long: data[i].long, lat: data[i].lat, name: data[i].locality, country: data[i].country, city: data[i].city, date: data[i].collectionDate, pooled: data[i].type, numFlies: data[i].nFlies, set: data[i].set, imgPath: "/assets/images/weatherPlots/" + data[i].stationId + ".jpg" }; markers.push(newPoint); /* Add new number to array */ /* console.log(newPoint); */ } } ); /* Load external data and boot */ d3.json( "https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson", function (data) { /* Draw the map */ svg .append("g") .selectAll("path") .data(data.features) .enter() .append("path") .attr("fill", "#b8b8b8") .attr("d", d3.geoPath().projection(projection)) .style("stroke", "black") .style("opacity", 0.3); /* create a tooltip */ var Tooltip = d3 .select("#my_dataviz") .append("div") .attr("class", "tooltip") .style("float", "right") .style("opacity", 1) .style("background-color", "white") .style("border", "solid") .style("border-width", "2px") .style("border-radius", "5px") .style("padding", "5px") .style("width", "auto") .style("max-width", function(data){ return maxWidth(data); }); /* set tooltip width */ function maxWidth(data) { var divWidth = document.getElementById("my_dataviz").offsetWidth; /* console.log(divWidth); */ var max = divWidth - width; return max + "px"; } /* Three functions that change the tooltip when user hover / move / leave a cell */ var mouseover = function (data) { Tooltip.style("opacity", 1); }; var mousemove = function (data) { var clickFlag = false; Tooltip.html( data.name + "<br>" + "<b>Location: </b>" + data.city + ", " + data.country + "<br>" + "<b>Collection Date: </b>" + data.date + "<br>" + "<b>Pooled/Inbred: </b>" + data.pooled + "<br>" + "<b>Num Flies: </b>" + data.numFlies + "<br>" + "<img src=" + data.imgPath + " style=float:right>" ) .style("left", d3.mouse(this)[0] + 10 + "px") .style("top", d3.mouse(this)[1] + "px") }; /* var mouseleave = function (data) { Tooltip.style("opacity", 0); }; */ var clickFlag = false; var click = function(d) { if(clickFlag){ Tooltip.hide(d); }else{ Tooltip.show(d); } return clickFlag = !clickFlag; }; /* Add circles: */ svg .selectAll("myCircles") .data(markers) .enter() .append("circle") .attr("cx", function (data) { return projection([data.long, data.lat])[0]; }) .attr("cy", function (data) { return projection([data.long, data.lat])[1]; }) .attr("r", 7) .attr("class", "circle") .style("fill", "FFE66D") .attr("stroke", function (data) { return colorDot(data.set); }) .attr("stroke-width", 3) .attr("fill-opacity", 0.4) .on("mouseover", mouseover) .on("mousemove", mousemove) .on("mouseleave", mouseleave); /* function to set the color of the dot */ function colorDot(set) { if (set == "dgn") { return "#60B2E5"; } else if (set == "DrosRTEC") { return "#EC9A29"; } else if (set == "DrosEU") { return "#C492B1"; } else { return "#ffffff"; } } } ); </script><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, Copyright &copy; 2017-2020 Patrick Marsceill. Distributed by an <a href="https://github.com/pmarsceill/just-the-docs/tree/master/LICENSE.txt">MIT license.</a> <br> Icons modified from <a href="https://www.flaticon.com/authors/freepik">Freepik</a> from <a href="https://www.flaticon.com">www.flaticon.com</a></p><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div>
